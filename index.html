<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sealura</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="src/assets/css/style.css" />
    <style>
        #user-description {
            font-family: monospace;
            color: white;
            white-space: pre;
        }
    </style>
</head>

<body class="custom-cursor">
    <div id="terminal" class="custom-cursor">
        <div id="terminal-header">
            <div id="terminal-buttons">
                <div class="terminal-button" id="close-button"></div>
                <div class="terminal-button" id="minimize-button"></div>
                <div class="terminal-button" id="maximize-button"></div>
            </div>
        </div>
        <div id="terminal-content">
            <p id="terminal-text" style="text-align: center;">
                ┏┓┏━┏┓<br>
                ┃┓┗┓┗┫<br>
                ┗┛┗┛┗┛<br><br>

                User: unknown<br>
                IP: <span id="user-ip"></span>
            </p>
            <p id="enter-prompt" style="text-align: center; margin-top: 20px;">Press Enter to continue</p>
        </div>
    </div>

    <div id="profile-section" style="display: none;">
        <div id="blurred-box">
            <img id="avatar-frame" src="src/assets/images/cat-profile.jpg" alt="Cat Profile Picture">
            <p id="username" style="color: white; font-weight: bold; font-size: large;">Snake</p>
            <div class="user-description">
                <p id="user-description"></p>
            </div>
            <div class="links">
                <a href="https://csharp.straw.page" target="_blank">
                    <img src="src/assets/images/Untitled.png" alt="Straw.page Logo" style="width: 28px; height: 28px; object-fit: contain;">
                </a>
            </div>
        </div>
    </div>

    <div id="video-background">
        <video autoplay muted loop id="myVideo">
            <source src="src/assets/videos/background.mp4" type="video/mp4">
            Your browser does not support HTML5 video.
        </video>
    </div>

    <script>
        const audioFiles = [
            'src/assets/audio/rage quit.mp3',
            'src/assets/audio/inci0 - reaper  w lieu & doxia (prod. dax).mp3',
            'src/assets/audio/lieucantfixit.mp3',
        ];

        function playRandomAudio() {
            const randomIndex = Math.floor(Math.random() * audioFiles.length);
            const selectedAudio = new Audio(audioFiles[randomIndex]);
            selectedAudio.loop = true;
            selectedAudio.volume = 0.8;

            document.body.addEventListener('click', function () {
                selectedAudio.play().catch(err => console.warn("Audio play failed:", err));
            }, { once: true });
        }

        window.addEventListener('DOMContentLoaded', playRandomAudio);
    </script>

    <script>
        const descriptions = [
            "Welcome, Snake",
            "Open your eyes.",
            "Sealura is better than delta."
        ];

        let descIndex = 0;
        let charIndex = 0;
        let isDeleting = false;
        let descElement = null;

        function typeEffect() {
            if (!descElement) return;
            const current = descriptions[descIndex];
            const visibleText = current.substring(0, charIndex);
            descElement.textContent = visibleText;

            if (!isDeleting && charIndex < current.length) {
                charIndex++;
                setTimeout(typeEffect, 100);
            } else if (isDeleting && charIndex > 0) {
                charIndex--;
                setTimeout(typeEffect, 50);
            } else {
                isDeleting = !isDeleting;
                if (!isDeleting) {
                    descIndex = (descIndex + 1) % descriptions.length;
                }
                setTimeout(typeEffect, 1000);
            }
        }

        window.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') {
                document.getElementById("terminal").style.display = "none";
                document.getElementById("profile-section").style.display = "block";

                descElement = document.getElementById("user-description");
                setTimeout(typeEffect, 500);
            }
        });
    </script>

    <!-- Remove this if you don’t have a compiled JS file -->
    <!-- <script type="module" src="dist/main.js"></script> -->
</body>
</html>
